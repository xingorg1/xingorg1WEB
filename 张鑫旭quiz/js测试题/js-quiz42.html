<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>JSåŸºç¡€æµ‹è¯•42</title>
</head>

<body>
  <!-- ä»£ç æäº¤ -->
  <pre>
  // ç¬¬1é¢˜
  function centerDot(str, total, num) {
    /* 
      strä¸ºè¦å¤„ç†çš„å­—ç¬¦ï¼Œtotalä¸ºé•¿åº¦ï¼Œnumä¸ºè¦é¢„ç•™çš„å­—æ•°
      */
    if (str.length > total) {
      str = str.substr(0, num) + '...' + str.substr(str.length - num)
    }
    return str;
  }
  // ç¬¬2é¢˜
  function centerDotFileName(str, total, fillTxt) {
    /* 
      strä¸ºè¦å¤„ç†çš„å­—ç¬¦ï¼Œtotalä¸ºæœ€åŽç”Ÿæˆæ–‡å­—æ€»é•¿åº¦ï¼Œä¸ºåˆ†éš”çš„æ–‡æ¡ˆ
      */
    var lastLetter = str.substr(str.indexOf('.') - 1)
    if (str.length > total) {
      str = str.substr(0, total - lastLetter.length - fillTxt.length) + fillTxt + lastLetter
    }
    return str;
  }
  </pre>
  <script>
    // 1ã€æ¨™é¡Œé•·åº¦>15,å‰å¾Œç•™6å€‹ï¼Œä¸­é–“...
    var title = 'ðŸŽ…ðŸŽ„ðŸŽâ¤ï¸ðŸš€åœ£è¯žå¿«ä¹ï¼Œç³»åˆ—æœ‰9äº†'
    function centerDot(str, total, num) {
      /* 
        strä¸ºè¦å¤„ç†çš„å­—ç¬¦ï¼Œtotalä¸ºé•¿åº¦ï¼Œnumä¸ºè¦é¢„ç•™çš„å­—æ•°
       */
      if (str.length > total) {
        str = str.substr(0, num) + '...' + str.substr(str.length - num)
      }
      return str;
    }
    var result1 = centerDot(title, 15, 6)
    console.log(result1)
    document.body.innerHTML += "<h3>ç¬¬ä¸€é¢˜ç»“æžœï¼š" + result1 + "</h3>"


    // 2ã€åŽè¾¹ç•™å‡ºæ–‡ä»¶ååŽç¼€å’Œç‚¹å‰æœ€åŽä¸€ä¸ªå­—ç¬¦ï¼Œä¸­é–“...ï¼ŒåŠ ä¸Šå‰è¾¹åŠ¨æ€çš„é•¿åº¦ï¼Œä½¿å¾—æœ€ç»ˆæ€»é•¿åº¦15,
    var filename1 = 'abcdefghigklmn.excel'
    var filename2 = 'abcdefghigklmn.jpg'
    function centerDotFileName(str, total, fillTxt) {
      /* 
        strä¸ºè¦å¤„ç†çš„å­—ç¬¦ï¼Œtotalä¸ºæœ€åŽç”Ÿæˆæ–‡å­—æ€»é•¿åº¦ï¼Œä¸ºåˆ†éš”çš„æ–‡æ¡ˆ
       */
      var lastLetter = str.substr(str.indexOf('.') - 1)
      if (str.length > total) {
        str = str.substr(0, total - lastLetter.length - fillTxt.length) + fillTxt + lastLetter
      }
      return str;
    }
    var result2_1 = centerDotFileName(filename1, 15, '...')
    var result2_2 = centerDotFileName(filename2, 15, '...')
    console.log(result2_1)
    console.log(result2_2)
    document.body.innerHTML += "<h3>ç¬¬äºŒé¢˜-1ç»“æžœï¼š" + result2_1 + "</h3>"
    document.body.innerHTML += "<h3>ç¬¬äºŒé¢˜-2ç»“æžœï¼š" + result2_2 + "</h3>"
  </script>
</body>

</html>